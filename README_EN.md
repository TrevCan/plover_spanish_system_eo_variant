## [WIP] Plover Plugin - Spanish System (EO variant)

[![pypi](https://img.shields.io/pypi/v/plover_spanish_system_eo_variant.svg)](https://pypi.org/project/plover-spanish-system-eo-variant/) [![pypi](https://img.shields.io/pypi/dm/plover_spanish_system_eo_variant.svg)](https://pypi.org/project/plover-spanish-system-eo-variant/) [![paypal](https://img.shields.io/badge/-Buy%20me%20a%20coffee%20%3AD-informational?logo=paypal)](https://www.paypal.com/donate?hosted_button_id=36R4CKEMBJMQE)

This is a plugin meant to be used for [Plover](https://www.openstenoproject.org/plover/), 
tool which allows the use of stenography without having specialized hardware.

The implementation of the Spanish System (eo variant) is an
approximation with the purpose of using the american keyboard
translated to Spanish.

### System Definition

#### Layout

Uses the default English key layout: `#STKPWHRAO*EUFRPBLGTSDZ`

![Steno Layout](https://i.imgur.com/sIuOpxu.png)

> Image: [Art of chording](https://www.artofchording.com/introduction/how-steno-works.html#chords).

#### Alphabet

The Spanish alphabet can be spelled out by executing the
following keystrokes.

|||||||||
|---|---|---|---|---|---|---|---|
|`A*: a`|`PW*: b`|`KR*: c`|`TK*: d`|`*E: e`|`TP*: f`|`TKPW: g`|`H*: h`|
|`*EU: i`|`SKWR*: j`|`K*: k`|`HR*: l`|`PH*: m`|`TPH*: n`|`TPWH*: ñ`|`O*: o`|
|`P*: p`|`KW*: q`|`R*: r`|`S*: s`|`T*: t`|`*U: u`|`SR*: v`|`W*: w`|
|`KP*: x`|`KWR*: y`|`STKPW*: z`|`HA*: á`|`H*E: é`|`H*EU: í`|`HO*: ó`|`H*U: ú`|

#### Dictionaries

Included dictionaries

- Articles: All Spanish articles.
- Main: This dictionary is an attempt to include all
generally used words of Spanish.
- User: Oriented towards users' personal preferences.

> Note: During the development I will be using this dictionary
with the purpose of writing down useful keystrokes in order to
develop the system. Once I consider these keystrokes are
worthy of being in the dictionary, as well as adhering to the
rules, I will add it to the repository dictionary.

#### System

This sistem will be predominantly syllabic. For the moment,
the most appropriate thing I consider is to start constructing
the words' definition based solely on their syllabic
construction. There will be exceptions regarding the most used
words, adhering to the most used words in the Spanish 
language, found in the
[Corpus RAE](http://corpus.rae.es/lfrecuencias.html).

For example, `"TK": "de"`, `"K": "que"`, `"P": "para"`, `"S": "es"` are one of the most frequent words in the Spanish language.

The `*` will be used as the main disarticulator in most cases.
For example, to represent a diactric accent: on one side 
`"SEU": "si"` and on the other `"S*EU": "sí"`. In particular 
cases, such as the *participle* or *accented letters*, it is
proposed to add `H` a a complementary disarticulator,
taking advantage of the fact that the `H` letter in the
Spanish language is silent.

#### Writing Plural nouns

Most of the time, `-S` should be added to pluralize a noun.
> Based on
[El plural de los sustantivos en español](https://espanol.lingolia.com/es/gramatica/sustantivos/plural).

#### Writing verbs in Participle Tense

A participle tense can be generated in most cases by performing one of the following keystrokes:

- `TKHO*` (ado) y `TKHA*` (ada), for verbs ending in `ar`.
- `TKHA*EU` (ida) y `TKHO*EU` (ido), for verbs ending in `er`
e `ir` (notar que el acorde está invertido).

> Based on [The Participle tense in Spanish](https://espanol.lingolia.com/es/gramatica/verbos/participio).

#### Writing verbs in gerund

The gerund form of a verb can be generated by pressing `-PBD`
for both `ando`, `iendo`, and other irregular forms.

#### Diphthong

Considering the following open `a`, `e`, `o`, and closed
vowels `i`, `u` diphthongs can be created using the 
following keystrokes.

- Dos vocales cerradas distintas:
  - `ui/uí`: ruido, construir, incluí. La `u` es parte de la `i` en el teclado, por lo tanto se propone usar `*EU`, así: `"R*EU/TKO": "ruido"`, `"KOPBS/TR*EUR": "construir"`, `"EUPB/KHR*EU": "incluí"`.
  - `iu/iú`: viuda, ciudad, siútico. Al igual que el anterior, pero utilizaríamos `*U`, así: `"SR*U/TKA": "viuda"`, `"S*U/TKAD": "ciudad"`, `"S*U/TEU/KO": "siútico"`.
- Vocal abierta tónica + vocal cerrada átona
  - `ai/ái`: aire,  paisaje, caída. Se puede combinar en el teclado con `AEU` y `A*EU`.
  - `au/áu`: aunque, causa, aún. Se puede combinar en el teclado con `AU` y `A*U`.
  - `ei/éi`: seis, aceite, alféizar. La `e` es parte de la `i` en el teclado, por lo tanto aquí la propuesta es ir con `*E` siempre que se pueda. Así: `"S*ES": "seis"`, `"A/S*E/TE": "aceite"`, `"AL/TP*E/SAR": "alféizar"`.
  - `eu/éu`: reunir, deuda, terapéutica. `EU` ya representa la vocal `i`, por lo tanto aquí la propuesta es ir con `*E` siempre que se pueda. Así: `"R*E/TPHEUR": "reunir"`, `"TK*E/TKA": "deuda"`, `"TE/RA/P*E/TEUBG": "terapéutica"`.
  - `oi/ói`: coincidir, moisés, oído. Se puede combinar en el teclado con `OEU`y `O*EU`.
  - `ou/óu`: aparentemente no hay ocurrencias de esta combinación o tal vez sean palabras muy raras. La combinación la usaremos invertida para otro grupo de diptongos más común: `uo/uó`.
- Vocal cerrada átona + vocal abierta tónica
  - `ia/iá`: social, familia, diálogo. Se propone utilizar sólo la vocal tónica combinada con `*` en el acorde, así: `"SO/SA*L": "social"`, `"TPA/PHEU/HRA*": "familia"`, `"TKHA*/HRO/TKPWO": "diálogo"`.
  - `ie/ié`: tiene, tiempo, recién. Se propone usar de vuelta `*E`, así: `"T*E/TPHE": "tiene"`, `"T*EPL/PO": "tiempo"`, `"RE/S*EPB": "recién"`.
  - `io/ió`: nacional, espacio, relación. Se propone aquí `O*`, así: `"TPHA/SO*/TPHAL": "nacional"`, `"ES/PA/SO*": "espacio"`, `"RE/HRA/SO*PB": "relación"`.
  - `ua/uá`: situación, actual, zaguán. Se propone usar `A*`, así: `"SEU/TA*/SO*PB": "situación"`, `"ABG/TA*L": "actual"`, `"SA/TKPWA*PB": "zaguán"`.
  - `ue/ué`: pues, nuevo, huésped. Se propone usar de vuelta `*E`, así: `"P*ES": "pues"`, `"TPH*E/SRO": "nuevo"`, `"H*ES/PED": "huésped"`.
  - `uo/uó`: antiguo, individuo, actuó. Utilizaremos la combinación invertida del teclado: `OU` y `O*U`. Así: `"APB/TEU/TKPWOU": "antiguo"`, `"EUPB/TKEU/SREU/TKOU": "individuo"`, `"ABG/TO*U": "actuó"`.

- Ejemplos de palabras con más de un diptongo:
  - `"SKWR*EU/SO*": "juicio"`
  - `"R*E/TPHO*PB": "reunión"`
  - `"SEU/TA*/SO*PB": "situación"`

> Basado en [Diptongos, triptongos e hiatos](https://espanol.lingolia.com/es/redaccion/acentuacion#a-diptongos-triptongos-e-hiatos).


#### Casos especiales

- La letra `ll`: la idea es utilizar el sonido casi equivalente de la `y`, así: `"E/KWRA": "ella"`.

- La letra `s` intermedia: se toma la regla de la teoría de Plover que dice que podemos usar `-F` como si fuera una `S` en la parte intermedia de la palabra, por ejemplo: `"TKEFD": "desde"`.

- La letra `q (KW)`: esta letra no la utilizaríamos para las sílabas, en su reemplazo utilizamos directamente la `K`. Ej.: `"K*E": "qué"`.

- La letra `ch` se formarán con `KH`. Ej.: `"TKEU/KHO": "dicho"`.

- La letra `r` fuerte (`rr`): para los casos en los que la sílaba (no inicial) que lleve `rr` y se necesite desambiguar, se preferirá la combinación `WR`, aprovechando que el sonido es aproximado y que no existen sílabas que empiecen con `wr` en español. Así: `"PE/WRA": "perra"`, `"PE/RA": "pera"`, `"KO/WRAL": "corral"`, `"KO/RAL": "coral"`.

- Las letras `g` y `j`: la `g` suena gutural suave si le preceden las vocales `a`, `o`, `u`. Para las sílabas con `e` e `i`, se entrepone una `u`. Así tenemos `ga`, `gue`, `gui`, `go`, `gu`. Todas estas ocurrencias deberían reflejarse como `TKPWA`, `TKPWE`, `TKPWEU`, `TKPWO` y `TKPWU` respectivamente. La `j` tiene un sonido gutural fuerte con todas las vocales: `ja`, `je`, `ji`, `jo`, `ju`. Esto coincide con la pronunciación de `ge` y `gi`. Todos estos casos deberían ir como `SKWRA`, `SKWRE`, `SKWREU`, `SKWRO`, `SKWRU`. Ej.: `"TKPWE/WRA": "guerra"`, `"SKWREPBT": "gente"`, `"SKWRE/TPE": "jefe"`, `"TKPWEU/TA/WRA": "guitarra"`, `"SKWREU/RA/SOL": "girasol"`, `"SKWREU/RA/TPA": "jirafa"`.

- Abreviaciones comunes que podrían aparecer:
  - Usar `-T` para comprimir sílabas si la palabra termina en `te`. Ej.: `"TKU/RAPBT": "durante"`.
  - Usar `-D` para comprimir sílabas si la palabra termina en `de`. Ej.: `"SRERD": "verde"`.
  - Usar `-TS` para comprimir sílabas si la palabra termina en `tes` de por sí, o como plural de `te`. Ej.: `"TKA*/PWETS": "diabetes"` (no es plural), `"APBTS": "antes"` (no es plural), `"RE/S*EPBTS": "recientes"`.
  - Usar `S` para abreviar la sílaba inicial `es`.
  - USAR `BG` para comprimir sílabas si la palabra temina en `ca`. Ej.: `"PO/HREU/TEUBG": "política"`.

## Instalación

1. Abrir Plover
2. Ir al Plugin Manager
3. Elegir `plover-spanish-system-eo-variant` de la lista
4. Click en `Install/Update`
5. Reiniciar Plover

> Requiere Plover versión 4.0.0 o superior.

## Uso
Para activar el plugin, simplemente se debe elegir el sistema desde la configuración de `Plover`.

## Contribuciones
Los pull requests son bienvenidos. Para cambios sustanciales, por favor abrí antes un issue para discutir el cambio que quieras realizar.

Asegurate de actualizar los tests apropiadamente cuando el caso lo requiera.

## License
[GPLv2](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html)
